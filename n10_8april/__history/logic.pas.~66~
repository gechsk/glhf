unit logic;

interface
Uses Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.StdCtrls, Vcl.Menus;


  type ff= record
    Height :real;//входные данные
  end;

  mas = array [1..128] of ff;

   TypeFile = file of mas;
   var Flag:integer;

    Function CalculateTime(H:Real):Real;
    function search(u:mas):byte;//поиск последнего элемента в массиве
    procedure UpdateMas (var gg: mas;H:Real);//добавляет новые данные в запись
    Procedure SaveF(var FName:string;gg:mas );
    Function WriteNumber(n:string;m:mas):string;
    procedure WriteReport(Var Result:Tmemo; Height:string; Time:real) ;
implementation

uses Unit1;

Function CalculateTime(H:Real): Real;
const
G=9.8;
  begin
   CalculateTime:=sqrt(2*H/G);
   UpdateMas(gege,H);
  end;


  function search(u:mas):byte;//поиск последнего элемента в массиве
  var
  i:integer;
  flag:boolean;
  begin
  i:=1;
     flag:=false;
    while flag=false  do
      if (u[i].Height>0) then
      inc(i)
      else
      begin
       flag:=true;
      end;
      search:=i;
  end;

  procedure UpdateMas (var gg: mas;H:Real);//добавляет новые данные в запись
  var i:integer;
     begin
       inc(Point);
      gg[Point].Height:=H;

     end;


     Procedure SaveF(var FName:string;gg:mas );
     var f:TypeFile;
     begin
     AssignFile(f,FName);
     Rewrite(f);
        Write(f,gg);
     CloseFile(f);
     end;

     Function WriteNumber(n:string;m:mas):string;
     var
      nf:integer;
     begin
      nf:=StrToInt(n);
      WriteNumber:=FloatToStr(m[nf].Height);
     end;

     procedure WriteReport(Var Result:Tmemo; Height:string; Time:real) ;
     var c: integer;
     begin
     c:=1;
           while (result.Lines[c]<>'') do
            inc(c);

            result.Lines[c]:='Height='+Height;
             result.Lines[c+1]:='Time='+FloatToStr(Time)+'(second)';
              result.Lines[c+2]:='____________________________';



     end;

      end.


